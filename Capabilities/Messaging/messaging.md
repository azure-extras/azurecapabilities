| Criteria                                | Storage queues                                                                                                                                                         | Service Bus queues                                                                                                                     | Event Hubs                                                      | Event Grid                                        | Cosmos DB - Change Feed                                      |
|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|---------------------------------------------------|--------------------------------------------------------------|
| Ordering guarantee                      | No                                                                                                                                                                     | Yes - First-In-First-Out (FIFO) (through the use of messaging sessions)                                                                | Yes (within partition)                                          | No                                                | Yes (within partition)                                       |
| Delivery guarantee - At-Least-Once      | Yes                                                                                                                                                                    | Yes (using PeekLock receive mode - this is the default)                                                                                | Yes                                                             | Yes                                               | Yes (only the most recent update to the record is delivered) |
| Delivery guarantee - At-Most-Once       | No                                                                                                                                                                     | Yes (using ReceiveAndDelete receive mode)                                                                                              | No                                                              | No                                                | No                                                           |
| Atomic operation support                | No                                                                                                                                                                     | Yes                                                                                                                                    | No                                                              | No                                                | No                                                           |
| Receive behavior - Blocking             | No                                                                                                                                                                     | Yes (with/without timeout, offers long polling, or the "Comet technique")                                                              | No                                                              | No                                                | No                                                           |
| Receive behavior - Non-Blocking         | Yes (completes immediately if no new message is found)                                                                                                                 | Yes (through the use of .NET managed API only)                                                                                         | Yes                                                             | Yes                                               | Yes                                                          |
| Push-style API                          | No                                                                                                                                                                     | Yes (OnMessage and OnMessage sessions .NET API.)                                                                                       | Yes                                                             | Yes (WebHook on the client side)                  | Yes (via client)                                             |
| Receive modes                           | Peek & Lease                                                                                                                                                           | Peek & Lock                                                                                                                            | Stream Read <br/>(with external checkpoint persistance)         |                                                   | Stream Read                                                  |
|                                         |                                                                                                                                                                        | Receive & Delete                                                                                                                       | No                                                              | Receive & Delete                                  | No                                                           |
| Exclusive access mode                   | Lease-based                                                                                                                                                            | Lock-based                                                                                                                             | No                                                              | No                                                | No                                                           |
| Lease/Lock duration                     | 30 seconds (default)<br/>7 days (maximum) (You can renew or release a message lease using the UpdateMessage API.)                                                      | 60 seconds (default)<br/>You can renew a message lock using the RenewLock API.                                                         | No                                                              | N/A                                               | No                                                           |
| Lease/Lock precision                    | Message level <br/>(each message can have a different timeout value, which you can then update as needed while processing the message, by using the UpdateMessage API) | Queue level <br/>(each queue has a lock precision applied to all of its messages, but you can renew the lock using the RenewLock API.) | n/a                                                             | n/a                                               | n/a                                                          |
| Batched receive                         | Yes <br/>(explicitly specifying message count when retrieving messages, up to a maximum of 32 messages)                                                                | Yes <br/>(implicitly enabling a pre-fetch property or explicitly through the use of transactions)                                      | Yes                                                             | Yes                                               | No                                                           |
| Batched send                            | No                                                                                                                                                                     | Yes (through the use of transactions or client-side batching)                                                                          | Yes                                                             | Yes                                               | n/a                                                          |
| Max Message Retention                   | Unlimited (default 7 days)                                                                                                                                             | 1+ years                                                                                                                               | 90 days (dedicated tier)                                        | 24h                                               | Unlimited                                                    |
| Client Protocols                        | HTTPS REST                                                                                                                                                             | AMQP, SBMP, HTTPS REST                                                                                                                 | AMQP, HTTPS REST, Kafka (not full support)                      | HTTPS (WebHook)                                   | HTTPS, TCP                                                   |
| Max Message Size                        | 64 KB                                                                                                                                                                  | 1 MB (Premium tier)                                                                                                                    | 1 MB                                                            | 64 KB (1MB in preview)                            | 2MB (CosmosDB item limit)                                    |
| Max Message Store Size                  | 500 TB                                                                                                                                                                 | 80 GB (premium tier)                                                                                                                   | 10 TB (per CU for dedicated tier)                               |                                                   | Unlimited                                                    |
| Max # Topics                            |                                                                                                                                                                        | 4000 (for premium tier)                                                                                                                | 1000 (per Namespace)                                            | 100000 (per event domain)                         |                                                              |
| Max message publish rate (Ingress rate) | 2000 req/sec (1KB message)                                                                                                                                             |                                                                                                                                        | 1MB or 1000 msg/sec (per unit)                                  | 5000 msg/sec (per topic)                          |                                                              |
| Max message read rate (Egress rate)     |                                                                                                                                                                        |                                                                                                                                        | 2MB or 4096 msg/sec (per unit)                                  |                                                   | 1M reads/sec (1K message) per container                      |
| Max Subscriptions per Topic/Queue       |                                                                                                                                                                        | 2000                                                                                                                                   | 100K (included)                                                 | 500                                               |                                                              |
| Max concurrent connections              |                                                                                                                                                                        | 5000 (per namespace)                                                                                                                   | 100 K (dedicated tier)                                          | n/a                                               |                                                              |
| Max # Partitions                        | n/a                                                                                                                                                                    | 16                                                                                                                                     | 2000 (per CU)                                                   |                                                   | Unlimited                                                    |
| Max # Consumer Groups                   | n/a                                                                                                                                                                    |                                                                                                                                        | 1000 (per Namespace)                                            |                                                   | n/a                                                          |
| Delivery Retry                          | N/A                                                                                                                                                                    | N/A                                                                                                                                    | N/A                                                             | Yes (from 30 sec up to 24h)                       | N/A                                                          |
| Encryption At-Rest (Microsoft Key)      | Yes                                                                                                                                                                    |                                                                                                                                        |                                                                 | Yes                                               |                                                              |
| Encryption At-Rest (Customer Key)       |                                                                                                                                                                        |                                                                                                                                        |                                                                 | No                                                |                                                              |
| Dead Letter Queue                       | No                                                                                                                                                                     | Yes                                                                                                                                    | N/A                                                             | Yes                                               | No                                                           |
| Local Install                           | Yes (storage emulator)                                                                                                                                                 | No (third party AMQP 1.0 compatible message broker can be used)                                                                        | No (third party AMQP 1.0 compatible message broker can be used) | Yes (https://github.com/Azure/eventgrid-emulator) | Yes (cosmosdb emulator)                                      |